
SET(HEADERS "")
SET(SOURCES "")

TRIBITS_SET_AND_INC_DIRS(DIR ${CMAKE_CURRENT_SOURCE_DIR})
APPEND_GLOB(HEADERS ${DIR}/cgns/*.h)
APPEND_GLOB(SOURCES ${DIR}/cgns/*.C)
APPEND_GLOB(HEADERS ${DIR}/exodus/*.h)
APPEND_GLOB(SOURCES ${DIR}/exodus/*.C)
APPEND_GLOB(HEADERS ${DIR}/utils/*.h)
APPEND_GLOB(SOURCES ${DIR}/utils/*.C)

TRIBITS_INCLUDE_DIRECTORIES(
  "${CMAKE_CURRENT_SOURCE_DIR}/../"
  "${CMAKE_CURRENT_BINARY_DIR}/../"
)

if (NOT CMAKE_HOST_SYSTEM_NAME STREQUAL "Windows")
  IF(${TPL_ENABLE_DLlib})
    ADD_DEFINITIONS(-DIOSS_DLOPEN_ENABLED)
  ENDIF ()
endif()

list(APPEND HEADERS
  "${CMAKE_CURRENT_BINARY_DIR}/iovs_export.h")

TRIBITS_ADD_LIBRARY(
	Iovs
	HEADERS	${HEADERS}
	SOURCES ${SOURCES}
	DEPLIBS Ioss
)

generate_export_header(Iovs)
target_include_directories(Iovs
  PUBLIC
    "$<BUILD_INTERFACE:${CMAKE_CURRENT_BINARY_DIR}>")

IF (BUILD_TESTING)
  ENABLE_TESTING()
ENDIF ()
