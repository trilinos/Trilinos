
INCLUDE(PackageLibraryMacros)
INCLUDE(PackageAddExecutableAndTest)

SET(HEADERS "")
SET(SOURCES "")
SET(TESTUTILS_DEPLIBS nox)

INCLUDE_DIRECTORIES(${CMAKE_CURRENT_SOURCE_DIR})

APPEND_SET(HEADERS
  NOX_TestError.H
  NOX_TestUtils.H
  NOX_TestCompare.H
  ) 

APPEND_SET(SOURCES
  NOX_TestUtils.C
  NOX_TestCompare.C
  )

IF(NOX_ENABLE_ABSTRACT_IMPLEMENTATION_EPETRA AND NOX_ENABLE_EpetraExt)
  APPEND_SET(HEADERS NOX_Epetra_DebugTools.H)
  APPEND_SET(SOURCES NOX_Epetra_DebugTools.C)
  APPEND_SET(TESTUTILS_DEPLIBS noxepetra)
ENDIF()

PACKAGE_ADD_LIBRARY(
  noxtestutils
  HEADERS ${HEADERS}
  SOURCES ${SOURCES}
  TESTONLY
  DEPLIBS ${TESTUTILS_DEPLIBS}
  )
