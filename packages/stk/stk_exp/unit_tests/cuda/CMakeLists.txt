
INCLUDE(TribitsAddExecutableAndTest)

ASSERT_DEFINED(PACKAGE_SOURCE_DIR CMAKE_CURRENT_SOURCE_DIR)

INCLUDE_DIRECTORIES(${CMAKE_CURRENT_SOURCE_DIR})
INCLUDE_DIRECTORIES(${${PACKAGE_NAME}_BINARY_DIR}/unit_tests/cuda)

FILE(GLOB SOURCES *.cpp)

IF(TPL_ENABLE_CUDA)
  CUDA_COMPILE(OBJECTS_CUDA check_cuda.cu cuda_saxpy.cu cuda_memory.cu)
  LIST( APPEND SOURCES ${OBJECTS_CUDA} )
ENDIF()

TRIBITS_ADD_EXECUTABLE_AND_TEST(
  exp_unit_cuda
  SOURCES ${SOURCES}
  DEPLIBS stk_mesh_base stk_topology
  COMM serial mpi
  NUM_MPI_PROCS 1
  )

