
INCLUDE(TribitsAddExecutableAndTest)

ASSERT_DEFINED(PACKAGE_SOURCE_DIR CMAKE_CURRENT_SOURCE_DIR)

INCLUDE_DIRECTORIES(${CMAKE_CURRENT_SOURCE_DIR})
INCLUDE_DIRECTORIES(${${PACKAGE_NAME}_BINARY_DIR}/unit_tests/kokkos)

FILE(GLOB SOURCES *.cpp)

IF(Trilinos_ENABLE_KokkosCore)
IF(TPL_ENABLE_CUDA)
  CUDA_INCLUDE_DIRECTORIES(${KokkosCore_INCLUDE_DIRS})
  CUDA_COMPILE(OBJECTS_CUDA saxpy_kokkos.cu create_kokkos_view.cu copy_kokkos_memory.cu)
  LIST(APPEND SOURCES ${OBJECTS_CUDA})
ENDIF()
ENDIF()

TRIBITS_ADD_EXECUTABLE_AND_TEST(
  exp_unit_kokkos
  SOURCES ${SOURCES}
  DEPLIBS stk_mesh_base stk_topology
  COMM serial mpi
  NUM_MPI_PROCS 1
  )

