
ADD_SUBDIRECTORY(util)

IF ( ${PACKAGE_NAME}_DISABLE_MPI_NEIGHBOR_COMM )
  SET(STK_DISABLE_MPI_NEIGHBOR_COMM TRUE)
ENDIF()

IF(TPL_ENABLE_MPI)

ADD_SUBDIRECTORY(parallel)
ADD_SUBDIRECTORY(environment)
ADD_SUBDIRECTORY(registry)
ADD_SUBDIRECTORY(command_line)
ADD_SUBDIRECTORY(diag)

IF ( ${PACKAGE_NAME}_ENABLE_SEACASIoss )
  ADD_SUBDIRECTORY(unit_test_support)
ENDIF()

IF (NOT ${PACAKGE_NAME}_ENABLE_SEACASAprepro_lib)
  SET(NOT_HAVE_STK_SEACASAPREPRO_LIB TRUE)
ENDIF()

ENDIF()

TRIBITS_CONFIGURE_FILE(STK_Trilinos_config.h)

INCLUDE_DIRECTORIES(${CMAKE_CURRENT_BINARY_DIR})

INSTALL(FILES stk_config.h stk_kokkos_macros.h DESTINATION
    ${CMAKE_INSTALL_PREFIX}/${${PROJECT_NAME}_INSTALL_INCLUDE_DIR}/stk_util/)
INSTALL(FILES ${CMAKE_CURRENT_BINARY_DIR}/STK_Trilinos_config.h DESTINATION
    ${CMAKE_INSTALL_PREFIX}/${${PROJECT_NAME}_INSTALL_INCLUDE_DIR}/stk_util/)
