INCLUDE(TribitsAddExecutableAndTest)


SET(NUM_MPI_PROCS_SET 2 3 4)


TRIBITS_ADD_EXECUTABLE_AND_TEST(
  EpetraLinearOpUnitTests
  SOURCES
    EpetraLinearOp_UnitTests.cpp
    ${TEUCHOS_STD_PARALLEL_UNIT_TEST_MAIN}
  NUM_MPI_PROCS 1
  STANDARD_PASS_OUTPUT
  )
FOREACH(NUM_MPI_PROCS ${NUM_MPI_PROCS_SET})
  TRIBITS_ADD_TEST(
    EpetraLinearOpUnitTests
    COMM mpi
    NUM_MPI_PROCS ${NUM_MPI_PROCS}
    STANDARD_PASS_OUTPUT
    )
ENDFOREACH()


TRIBITS_ADD_EXECUTABLE_AND_TEST(
  EpetraLinearOpParallelUnitTests
  SOURCES
    EpetraLinearOpParallel_UnitTests.cpp
    ${TEUCHOS_STD_PARALLEL_UNIT_TEST_MAIN}
  NUM_MPI_PROCS 1
  STANDARD_PASS_OUTPUT
  )
FOREACH(NUM_MPI_PROCS ${NUM_MPI_PROCS_SET})
  TRIBITS_ADD_TEST(
    EpetraLinearOpParallelUnitTests
    COMM mpi
    NUM_MPI_PROCS ${NUM_MPI_PROCS}
    STANDARD_PASS_OUTPUT
    )
ENDFOREACH()


TRIBITS_ADD_EXECUTABLE_AND_TEST(
  EpetraThyraWrappersUnitTests
  SOURCES
    EpetraThyraWrappers_UnitTests.cpp
    ${TEUCHOS_STD_PARALLEL_UNIT_TEST_MAIN}
  NUM_MPI_PROCS 1
  STANDARD_PASS_OUTPUT
  )
FOREACH(NUM_MPI_PROCS ${NUM_MPI_PROCS_SET})
  TRIBITS_ADD_TEST(
    EpetraThyraWrappersUnitTests
    COMM mpi
    NUM_MPI_PROCS ${NUM_MPI_PROCS}
    STANDARD_PASS_OUTPUT
    )
ENDFOREACH()
