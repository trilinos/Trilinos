INCLUDE(TribitsCopyFilesToBinaryDir)
INCLUDE(TribitsAddExecutableAndTest)

TRIBITS_INCLUDE_DIRECTORIES(REQUIRED_DURING_INSTALLATION_TESTING ${PACKAGE_SOURCE_DIR}/)
TRIBITS_INCLUDE_DIRECTORIES(REQUIRED_DURING_INSTALLATION_TESTING ${CMAKE_CURRENT_SOURCE_DIR}/../)
TRIBITS_INCLUDE_DIRECTORIES(REQUIRED_DURING_INSTALLATION_TESTING ${CMAKE_CURRENT_BINARY_DIR}/../base/)
TRIBITS_INCLUDE_DIRECTORIES(REQUIRED_DURING_INSTALLATION_TESTING ${CMAKE_CURRENT_SOURCE_DIR}/../base/)
TRIBITS_INCLUDE_DIRECTORIES(REQUIRED_DURING_INSTALLATION_TESTING ${CMAKE_CURRENT_SOURCE_DIR}/../support-Trilinos)


IF(FEI_ENABLE_AztecOO)

TRIBITS_ADD_EXECUTABLE_AND_TEST(
  beam
  SOURCES beam.cpp
  ARGS "-i beam_crs_aztecoo.i"
  COMM serial mpi
  NUM_MPI_PROCS 1
  DEPLIBS fei_test_utils
  )

TRIBITS_ADD_EXECUTABLE_AND_TEST(
  beam_oldfei
  SOURCES beam_oldfei.cpp
  ARGS "-i beam_msr_aztec.i"
  COMM serial mpi
  NUM_MPI_PROCS 1
  DEPLIBS fei_test_utils
  )

TRIBITS_COPY_FILES_TO_BINARY_DIR(copyexamplebeamfeifiles
  SOURCE_FILES beam_crs_aztecoo.i beam_msr_aztec.i
  )

ENDIF()

