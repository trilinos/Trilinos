<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="Docutils 0.7: http://docutils.sourceforge.net/" />
<title>PyTrilinos Users Guide</title>
<meta name="author" content="Bill Spotz" />
<meta name="organization" content="Sandia National Laboratories" />
<meta name="date" content="31 December 2010" />
<meta name="copyright" content="Sandia Corporation, 2010" />
<style type="text/css">

/*
:Author: David Goodger (goodger@python.org)
:Id: $Id: html4css1.css 6253 2010-03-02 00:24:53Z milde $
:Copyright: This stylesheet has been placed in the public domain.

Default cascading style sheet for the HTML output of Docutils.

See http://docutils.sf.net/docs/howto/html-stylesheets.html for how to
customize this style sheet.
*/

/* used to remove borders from tables and images */
.borderless, table.borderless td, table.borderless th {
  border: 0 }

table.borderless td, table.borderless th {
  /* Override padding for "table.docutils td" with "! important".
     The right padding separates the table cells. */
  padding: 0 0.5em 0 0 ! important }

.first {
  /* Override more specific margin styles with "! important". */
  margin-top: 0 ! important }

.last, .with-subtitle {
  margin-bottom: 0 ! important }

.hidden {
  display: none }

a.toc-backref {
  text-decoration: none ;
  color: black }

blockquote.epigraph {
  margin: 2em 5em ; }

dl.docutils dd {
  margin-bottom: 0.5em }

/* Uncomment (and remove this text!) to get bold-faced definition list terms
dl.docutils dt {
  font-weight: bold }
*/

div.abstract {
  margin: 2em 5em }

div.abstract p.topic-title {
  font-weight: bold ;
  text-align: center }

div.admonition, div.attention, div.caution, div.danger, div.error,
div.hint, div.important, div.note, div.tip, div.warning {
  margin: 2em ;
  border: medium outset ;
  padding: 1em }

div.admonition p.admonition-title, div.hint p.admonition-title,
div.important p.admonition-title, div.note p.admonition-title,
div.tip p.admonition-title {
  font-weight: bold ;
  font-family: sans-serif }

div.attention p.admonition-title, div.caution p.admonition-title,
div.danger p.admonition-title, div.error p.admonition-title,
div.warning p.admonition-title {
  color: red ;
  font-weight: bold ;
  font-family: sans-serif }

/* Uncomment (and remove this text!) to get reduced vertical space in
   compound paragraphs.
div.compound .compound-first, div.compound .compound-middle {
  margin-bottom: 0.5em }

div.compound .compound-last, div.compound .compound-middle {
  margin-top: 0.5em }
*/

div.dedication {
  margin: 2em 5em ;
  text-align: center ;
  font-style: italic }

div.dedication p.topic-title {
  font-weight: bold ;
  font-style: normal }

div.figure {
  margin-left: 2em ;
  margin-right: 2em }

div.footer, div.header {
  clear: both;
  font-size: smaller }

div.line-block {
  display: block ;
  margin-top: 1em ;
  margin-bottom: 1em }

div.line-block div.line-block {
  margin-top: 0 ;
  margin-bottom: 0 ;
  margin-left: 1.5em }

div.sidebar {
  margin: 0 0 0.5em 1em ;
  border: medium outset ;
  padding: 1em ;
  background-color: #ffffee ;
  width: 40% ;
  float: right ;
  clear: right }

div.sidebar p.rubric {
  font-family: sans-serif ;
  font-size: medium }

div.system-messages {
  margin: 5em }

div.system-messages h1 {
  color: red }

div.system-message {
  border: medium outset ;
  padding: 1em }

div.system-message p.system-message-title {
  color: red ;
  font-weight: bold }

div.topic {
  margin: 2em }

h1.section-subtitle, h2.section-subtitle, h3.section-subtitle,
h4.section-subtitle, h5.section-subtitle, h6.section-subtitle {
  margin-top: 0.4em }

h1.title {
  text-align: center }

h2.subtitle {
  text-align: center }

hr.docutils {
  width: 75% }

img.align-left, .figure.align-left, object.align-left {
  clear: left ;
  float: left ;
  margin-right: 1em }

img.align-right, .figure.align-right, object.align-right {
  clear: right ;
  float: right ;
  margin-left: 1em }

img.align-center, .figure.align-center, object.align-center {
  display: block;
  margin-left: auto;
  margin-right: auto;
}

.align-left {
  text-align: left }

.align-center {
  clear: both ;
  text-align: center }

.align-right {
  text-align: right }

/* reset inner alignment in figures */
div.align-right {
  text-align: left }

/* div.align-center * { */
/*   text-align: left } */

ol.simple, ul.simple {
  margin-bottom: 1em }

ol.arabic {
  list-style: decimal }

ol.loweralpha {
  list-style: lower-alpha }

ol.upperalpha {
  list-style: upper-alpha }

ol.lowerroman {
  list-style: lower-roman }

ol.upperroman {
  list-style: upper-roman }

p.attribution {
  text-align: right ;
  margin-left: 50% }

p.caption {
  font-style: italic }

p.credits {
  font-style: italic ;
  font-size: smaller }

p.label {
  white-space: nowrap }

p.rubric {
  font-weight: bold ;
  font-size: larger ;
  color: maroon ;
  text-align: center }

p.sidebar-title {
  font-family: sans-serif ;
  font-weight: bold ;
  font-size: larger }

p.sidebar-subtitle {
  font-family: sans-serif ;
  font-weight: bold }

p.topic-title {
  font-weight: bold }

pre.address {
  margin-bottom: 0 ;
  margin-top: 0 ;
  font: inherit }

pre.literal-block, pre.doctest-block {
  margin-left: 2em ;
  margin-right: 2em }

span.classifier {
  font-family: sans-serif ;
  font-style: oblique }

span.classifier-delimiter {
  font-family: sans-serif ;
  font-weight: bold }

span.interpreted {
  font-family: sans-serif }

span.option {
  white-space: nowrap }

span.pre {
  white-space: pre }

span.problematic {
  color: red }

span.section-subtitle {
  /* font-size relative to parent (h1..h6 element) */
  font-size: 80% }

table.citation {
  border-left: solid 1px gray;
  margin-left: 1px }

table.docinfo {
  margin: 2em 4em }

table.docutils {
  margin-top: 0.5em ;
  margin-bottom: 0.5em }

table.footnote {
  border-left: solid 1px black;
  margin-left: 1px }

table.docutils td, table.docutils th,
table.docinfo td, table.docinfo th {
  padding-left: 0.5em ;
  padding-right: 0.5em ;
  vertical-align: top }

table.docutils th.field-name, table.docinfo th.docinfo-name {
  font-weight: bold ;
  text-align: left ;
  white-space: nowrap ;
  padding-left: 0 }

h1 tt.docutils, h2 tt.docutils, h3 tt.docutils,
h4 tt.docutils, h5 tt.docutils, h6 tt.docutils {
  font-size: 100% }

ul.auto-toc {
  list-style-type: none }

</style>
</head>
<body>
<div class="document" id="pytrilinos-users-guide">
<h1 class="title">PyTrilinos Users Guide</h1>
<table class="docinfo" frame="void" rules="none">
<col class="docinfo-name" />
<col class="docinfo-content" />
<tbody valign="top">
<tr><th class="docinfo-name">Author:</th>
<td>Bill Spotz</td></tr>
<tr><th class="docinfo-name">Contact:</th>
<td><a class="first last reference external" href="mailto:wfspotz&#64;sandia.gov">wfspotz&#64;sandia.gov</a></td></tr>
<tr><th class="docinfo-name">Organization:</th>
<td>Sandia National Laboratories</td></tr>
<tr><th class="docinfo-name">Date:</th>
<td>31 December 2010</td></tr>
<tr><th class="docinfo-name">Copyright:</th>
<td>Sandia Corporation, 2010</td></tr>
</tbody>
</table>
<div class="abstract topic">
<p class="topic-title first">Abstract</p>
<p>PyTrilinos is a python interface to selected Trilinos
packages.  The Trilinos Project is a collection of over 30
software packages written primarily in C++ that provide linear,
nonlinear, and eigen solvers, along with preconditioners and
supporting utilities, that are object-oriented, parallel and
serial, for sparse and dense problems.  PyTrilinos is one of those
packages, and provides python interfaces to the most popular and
important Trilinos packages.  This Guide provides information for
users just getting started with PyTrilinos.</p>
</div>
<div class="contents topic" id="contents">
<p class="topic-title first">Contents</p>
<ul class="simple">
<li><a class="reference internal" href="#prereqresites" id="id1">Prereqresites</a></li>
<li><a class="reference internal" href="#building-and-installing" id="id2">Building and Installing</a><ul>
<li><a class="reference internal" href="#trilinos-packages" id="id3">Trilinos Packages</a></li>
<li><a class="reference internal" href="#python-and-swig" id="id4">Python and SWIG</a></li>
<li><a class="reference internal" href="#installation-path" id="id5">Installation Path</a></li>
<li><a class="reference internal" href="#build-time" id="id6">Build Time</a></li>
<li><a class="reference internal" href="#configuring-and-building" id="id7">Configuring and Building</a></li>
</ul>
</li>
</ul>
</div>
<div class="section" id="prereqresites">
<h1><a class="toc-backref" href="#id1">Prereqresites</a></h1>
<p>To build and execute PyTrilinos, you must have <a class="reference external" href="http://www.python.org">python</a> installed.  PyTrilinos is not yet ported to
python 3, so you need python 2.X, where X is 5 or greater.</p>
<p>In addition, you need to have <a class="reference external" href="http://numpy.scipy.org">numpy</a>
installed relative to the same python installation.  NumPy is
numerical python, a python module for handling homogenous, contiguous
arrays of data.  Currently, version 1.0 or greater is required.</p>
<p>Finally, you need <a class="reference external" href="http://www.swig.org">SWIG</a>, the Simple Wrapper
Interface Generator, a tool that reads C/C++ code and automatically
generates python wrapper code.  This is the workhorse for building
PyTrilinos code.  Version 2.0 or greater is required.</p>
</div>
<div class="section" id="building-and-installing">
<h1><a class="toc-backref" href="#id2">Building and Installing</a></h1>
<p>PyTrilinos is a Trilinos package, and so is built by building Trilinos
in the normal way and enabling the PyTrilinos package.  Trilinos uses
the CMake build system, which requires a build directory separate from
the source directory.  Trilinos builds tend to be complex enough that
it is recommended that you write a short script to invoke <tt class="docutils literal">cmake</tt> to
configure the build.  See the Trilinos documentation for more details.</p>
<p>PyTrilinos is not enabled by default.  To enable PyTrilinos, use the
<tt class="docutils literal">cmake</tt> option:</p>
<pre class="literal-block">
-D Trilinos_ENABLE_PyTrilinos:BOOL=ON
</pre>
<p>PyTrilinos requires that all of Trilinos be built as shared
libraries.  This is not the default, nor does enabling PyTrilinos set
this flag.  You must therefore explicitly turn on shared libraries:</p>
<pre class="literal-block">
-D BUILD_SHARED_LIBS:BOOL=ON
</pre>
<p>If you enable PyTrilinos but forget to turn on shared libraries,
<tt class="docutils literal">cmake</tt> will exit and give you a gentle reminder to set this option.</p>
<div class="section" id="trilinos-packages">
<h2><a class="toc-backref" href="#id3">Trilinos Packages</a></h2>
<p>PyTrilinos will build python interfaces only for those Trilinos
packages that are enabled.  Some of the default packages have python
wrappers, some do not.  Some Trilinos packages with python wrappers
are not in the default set.  So not specifically enabling any other
Trilinos packages (i.e., using the default set of packages) will build
an incomplete PyTrilinos.</p>
<p>The simplest way to enable every Trilinos package that has a python
interface is to use:</p>
<pre class="literal-block">
-D Trilinos_ENABLE_ALL_OPTIONAL_PACKAGES:BOOL=ON
</pre>
<p>All packages with python wrappers are seen as optional packages to
PyTrilinos, so they all get enabled.  But this directive is recursive,
so those packages that are optional to PyTrilinos also have optional
packages, and they get enabled as well.  This approach will build
several more packages than you need.</p>
<p>For complete control, you can use the option:</p>
<pre class="literal-block">
-D Trilinos_ENABLE_ALL_PACKAGES:BOOL=OFF
</pre>
<p>and then individually enable every package you want using:</p>
<pre class="literal-block">
-D Trilinos_ENABLE_&lt;PACKAGE&gt;:BOOL=ON
</pre>
<p>where <tt class="docutils literal">&lt;PACKAGE&gt;</tt> is the name of a Trilinos package.  The Trilinos
packages with python interfaces are Teuchos, Epetra, Triutils,
EpetraExt, AztecOO, Galeri, Amesos, Ifpack, Komplex, Anasazi, ML and
NOX.</p>
</div>
<div class="section" id="python-and-swig">
<h2><a class="toc-backref" href="#id4">Python and SWIG</a></h2>
<p>You may specify the python interpreter (and thus the version of the
Python/C API) with the <tt class="docutils literal">cmake</tt> option:</p>
<pre class="literal-block">
-D Python3_EXECUTABLE:FILEPATH=...
</pre>
<p>If you do not specify this option, <tt class="docutils literal">cmake</tt> actually looks for an
executable named <tt class="docutils literal">python2.7</tt> (and then <tt class="docutils literal">python2.6</tt>, etc., down to
<tt class="docutils literal">python1.5</tt>, and then finally for <tt class="docutils literal">python</tt>).</p>
<p>The SWIG executable my be similarly specified with:</p>
<pre class="literal-block">
-D SWIG_EXECUTABLE:FILEPATH=...
</pre>
<p>If this option is not used, <tt class="docutils literal">cmake</tt> will find the first occurence of
<tt class="docutils literal">swig</tt> in your environment's path.</p>
</div>
<div class="section" id="installation-path">
<h2><a class="toc-backref" href="#id5">Installation Path</a></h2>
<p>Because PyTrilinos is imported into a running <tt class="docutils literal">python</tt> interpreter,
and that interpreter will have specific places it looks for python
modules, it is possible to set the PyTrilinos installation path
separately from the Trilinos installation path.  Use:</p>
<pre class="literal-block">
-D PyTrilinos_INSTALL_PREFIX:PATH=...
</pre>
<p>If this option is not specified, then the PyTrilinos installation path
prefix is defined by the Trillinos installation path prefix:</p>
<pre class="literal-block">
-D CMAKE_INSTALL_PREFIX:PATH=...
</pre>
<p>If neither of these options is specified, then the PyTrilinos
installation path is set to be the location where the <tt class="docutils literal">python</tt>
executable expects to find python modules.  Since specifying the
PyTrilinos installation location is more complex than for the rest of
Trilinos, the PyTrilinos installation path is written to the screen
near the end of the configuration process.</p>
</div>
<div class="section" id="build-time">
<h2><a class="toc-backref" href="#id6">Build Time</a></h2>
<p>Trilinos can take a long time to configure and build, depending on the
number of packages that are enabled.  A significant portion of this
time can be taken up by building tests and examples.  You can save a
considerable amount of time by turning these tests and examples off:</p>
<pre class="literal-block">
-D Trilinos_ENABLE_TESTS:BOOL=OFF
-D Trilinos_ENABLE_EXAMPLES:BOOL=OFF
</pre>
</div>
<div class="section" id="configuring-and-building">
<h2><a class="toc-backref" href="#id7">Configuring and Building</a></h2>
<p>To configure Trilinos, run <tt class="docutils literal">cmake</tt> with the desired options
specified, followed by the path to the top Trilinos source directory.
This will generate the build system.  On a Unix machine, then run
<tt class="docutils literal">make</tt> to build all of the enabled Trilinos packages.  Then run
<tt class="docutils literal">make install</tt> (or <tt class="docutils literal">sudo make install</tt>, if installing to a path
that requires root privileges) to install the Trilinos libraries,
header files and python modules to their proper place.</p>
</div>
</div>
</div>
<div class="footer">
<hr class="footer" />
Generated on: 2010-12-31 17:16 UTC.
Generated by <a class="reference external" href="http://docutils.sourceforge.net/">Docutils</a> from <a class="reference external" href="http://docutils.sourceforge.net/rst.html">reStructuredText</a> source.

</div>
</body>
</html>
