
ASSERT_DEFINED(PACKAGE_SOURCE_DIR CMAKE_CURRENT_SOURCE_DIR)

INCLUDE_DIRECTORIES(${CMAKE_CURRENT_SOURCE_DIR})
INCLUDE_DIRECTORIES(${CMAKE_CURRENT_BINARY_DIR})

SET(CUDA_SOURCES "")
IF (Stokhos_ENABLE_CUDA AND Kokkos_ENABLE_Cuda)
  GET_PROPERTY(Stokhos_CUDA_INC_DIRS DIRECTORY PROPERTY INCLUDE_DIRECTORIES)
  CUDA_INCLUDE_DIRECTORIES(${Stokhos_CUDA_INC_DIRS})
  # add MPI include dir to nvcc
  IF( TPL_ENABLE_MPI )
    CUDA_INCLUDE_DIRECTORIES( ${MPI_BASE_DIR}/include )
  ENDIF()
  CUDA_COMPILE(CUDA_SOURCES TestMeanMultiply_Cuda.cu)
ENDIF()
TRIBITS_ADD_EXECUTABLE(
  KokkosMeanMultiplyTest
  SOURCES TestMeanMultiply.hpp
          TestMeanMultiply.cpp
          TestMeanMultiply_Host.cpp
          ${CUDA_SOURCES}
  COMM serial mpi
  )
