SET(HTS_HAVE_OMP ${${PROJECT_NAME}_ENABLE_OpenMP})
IF (NOT HTS_HAVE_OMP)
  MESSAGE(FATAL_ERROR "Subpackage HTS requires -D ${PROJECT_NAME}_ENABLE_OpenMP=ON")
ENDIF()

SET(HTS_HAVE_COMPLEX OFF)
if (Teuchos_ENABLE_COMPLEX)
  SET(HTS_HAVE_COMPLEX ON)
endif ()
TRIBITS_ADD_OPTION_AND_DEFINE(
  ${PACKAGE_NAME}_ENABLE_COMPLEX
  HAVE_SHYLUHTS_COMPLEX
  "Enable HTS template specializations for complex data types; only needed if using BLAS or MKL."
  ${HTS_HAVE_COMPLEX})

TRIBITS_CONFIGURE_FILE(${PACKAGE_NAME}_config.h)

INCLUDE_DIRECTORIES(${CMAKE_CURRENT_BINARY_DIR})
INCLUDE_DIRECTORIES(${CMAKE_CURRENT_SOURCE_DIR})

SET(TRILINOS_INCDIR ${CMAKE_INSTALL_PREFIX}/${${PROJECT_NAME}_INSTALL_INCLUDE_DIR})

SET(SOURCES shylu_hts.cpp)
SET(HEADERS_PUBLIC shylu_hts.hpp shylu_hts_decl.hpp shylu_hts_impl.hpp shylu_hts_impl_def.hpp)
SET(HEADERS_PRIVATE)

LIST(APPEND HEADERS_PUBLIC ${CMAKE_CURRENT_BINARY_DIR}/${PACKAGE_NAME}_config.h)

TRIBITS_ADD_LIBRARY(
  shyluhts
  HEADERS ${HEADERS_PUBLIC}
  NOINSTALLHEADERS ${HEADERS_PRIVATE}
  SOURCES ${SOURCES}
  DEPLIBS)
