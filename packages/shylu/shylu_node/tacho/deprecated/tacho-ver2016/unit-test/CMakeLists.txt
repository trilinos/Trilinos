INCLUDE_DIRECTORIES(${CMAKE_CURRENT_SOURCE_DIR})
INCLUDE_DIRECTORIES(${CMAKE_CURRENT_BINARY_DIR})

TRIBITS_COPY_FILES_TO_BINARY_DIR(ShyLUTacho_UnitTest_SparseMatrixFile
        SOURCE_FILES test.mtx
        SOURCE_DIR ${CMAKE_CURRENT_SOURCE_DIR}
        DEST_DIR ${CMAKE_CURRENT_BINARY_DIR}
)

SET(SOURCES "")

FILE(GLOB SOURCES *.cpp)

SET(LIBRARIES shyluchol)

TRIBITS_ADD_EXECUTABLE_AND_TEST(
  Tacho_TestUtil
  NOEXEPREFIX
  SOURCES Tacho_TestUtil.cpp
  ARGS PrintItAll
  NUM_MPI_PROCS 1
  PASS_REGULAR_EXPRESSION "PASSED"
  TESTONLYLIBS kokkos_gtest
)

IF(Kokkos_ENABLE_Serial)
  TRIBITS_ADD_EXECUTABLE_AND_TEST(
    Tacho_TestSerial
    NOEXEPREFIX
    SOURCES Tacho_TestSerial.cpp
    ARGS PrintItAll
    NUM_MPI_PROCS 1
    PASS_REGULAR_EXPRESSION "PASSED"
    TESTONLYLIBS kokkos_gtest
  )
ENDIF()

IF(Kokkos_ENABLE_OpenMP)
  TRIBITS_ADD_EXECUTABLE_AND_TEST(
    Tacho_TestOpenMP
    NOEXEPREFIX
    SOURCES Tacho_TestOpenMP.cpp
    ARGS PrintItAll
    NUM_MPI_PROCS 1
    PASS_REGULAR_EXPRESSION "PASSED"
    TESTONLYLIBS kokkos_gtest
  )
ENDIF()

IF(Kokkos_ENABLE_Cuda)

ENDIF()
