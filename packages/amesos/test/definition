#
# FRAMEWORK group
#

(FRAMEWORK, INSTALL, AmesosExamples ) {
    DIRS = ../example;
    COMM = SERIAL, MPI(1-4);
}

(AmesosThyraTests,INSTALL) {
    TESTS = ../thyra/test/test_amesos_thyra_driver.exe;
    ARGS = --matrix-dir=../thyra/test --show-all-tests;
#    ARGS = --matrix-dir=$ABS_TOP_SRCDIR/packages/amesos/test/Test_Basic --show-all-tests;
    X-HOST = paunchy;
    COMM = SERIAL;
}

#
#  Some of the following tests take too long (up to 30 minutes) to run as an installation test
#
(FRAMEWORK) {   
    DIRS = scripts/daily/mpi;
    COMM = CUSTOM-MPI; 
    ARGS = NightlyTest True True;      
    EXIT-STATUS = STRING-COMPARISON ; 
}
(FRAMEWORK) {   
    DIRS = scripts/daily/serial;
    COMM = SERIAL; 
    ARGS = NightlyTest True True;      
    EXIT-STATUS = STRING-COMPARISON ; 
}

(FRAMEWORK, INSTALL ) {   
    DIRS = Test_Epetra_RowMatrix,
           Test_Epetra_CrsMatrix,
           Test_Detailed,
           Test_KLU,
           Test_SuperLU,
           Test_SuperLU_DIST,
           Test_LAPACK,
           Test_UMFPACK,
           Test_DSCPACK,
           Test_MUMPS;
    COMM = SERIAL, MPI(1-4); 
}

#
#  TestOptions can't find ../Test_Basic/Diagonal.mtx even though TestOptions works fine 
#  when run from within TestAmesos and TestQuietAmesos  Bug #1960  
#
#
#  The install test should take less than a minute or two.
#
(INSTALL ) {   
    DIRS = TestOptions;
    ARGS = -s; 
    X-HOST = atlantis;
    COMM = SERIAL, MPI(1-4); 
}

# TestOptions is hanging on herouxsmp--disabling for now.  Bug #2111
#(FRAMEWORK ) {   
#   DIRS = TestOptions;
#    X-HOST = atlantis;
#    COMM = SERIAL, MPI(1-4); 
#}

#
#  Bug 1988 - Test_MultipleSolves fails on s858352
#
(FRAMEWORK, INSTALL ) {   
    DIRS = Test_MultipleSolves;
    X-HOST = s858352;
    COMM = SERIAL, MPI(1-4); 
}


(FRAMEWORK, INSTALL, AmesosPyTests) {
    DIRS = ../python/test;
    EXIT-STATUS = STRING-COMPARISON;
    COMM = SERIAL, MPI(1-4);
}

(FRAMEWORK, INSTALL, AmesosPyExamples) {
    DIRS = ../python/example;
    EXIT-STATUS = STRING-COMPARISON;
    COMM = SERIAL, MPI(1-4);
}
